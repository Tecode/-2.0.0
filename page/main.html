<!-- Start Page Header -->
<div class="page-header">
    <h1 class="title">商户数据统计</h1>
    <ol class="breadcrumb">
        <li class="active">显示统计当日数据和总数据</li>
    </ol>
    <div class="right">
        <div class="btn-group" role="group" aria-label="...">
            <a href="#/main" class="btn btn-light">数据统计</a>
            <a href="javascript:;" class="btn btn-light"><i class="fa fa-refresh"></i></a>
            <a href="javascript:;" class="btn btn-light" id="topstats"><i class="fa fa-line-chart"></i></a>
        </div>
    </div>
</div>
<div class="container-widget ms-controller" ms-controller="overallSituation">
    <div class="col-md-12 ">
        <ul class="topstats clearfix">
            <li class="arrow"></li>
            <li class="col-xs-6 col-lg-4">
                <span class="title"><i class="fa fa-weixin "></i>微信支付今日收款</span>
                <h3 class="color-up"><i class="fa fa-rmb"></i>{{'&nbsp;'+@payNowday}}</h3>
                <span class="diff"><i class="fa fa-caret-right"></i>&nbsp;&nbsp;当日收款数据统计汇总</span>
            </li>
            <li class="col-xs-6 col-lg-4">
                <span class="title"><i class="fa fa-shopping-cart"></i>微信支付当月收款</span>
                <h3 class="color-up"><i class="fa fa-rmb"></i>{{'&nbsp;'+@payNowmonth}}</h3>
                <span class="diff"><i class="fa fa-caret-right"></i>&nbsp;&nbsp;当月收款数据统计汇总</span>
            </li>
            <li class="col-xs-12 col-lg-4">
                <span class="title"><i class="fa fa-clock-o"></i>微信支付总收款</span>
                <h3 class="color-up"><i class="fa fa-rmb"></i>{{'&nbsp;'+@payNowcount}}</h3>
                <span class="diff"><i class="fa fa-caret-right"></i>&nbsp;&nbsp;统计到目前为止总收款金额</span>
            </li>
        </ul>
    </div>
    <div class="col-md-12 ">
        <ul class="topstats clearfix">
            <li class="arrow"></li>
            <li class="col-xs-6 col-lg-4">
                <span class="title"><i class="fa fa-dot-circle-o"></i>商城今日收款</span>
                <h3 class="color-down"><i class="fa fa-rmb"></i>{{'&nbsp;'+##mallNowday}}</h3>
                <span class="diff"><i class="fa fa-caret-right"></i>&nbsp;&nbsp;当日收款数据统计汇总</span>
            </li>
            <li class="col-xs-6 col-lg-4">
                <span class="title"><i class="fa fa-shopping-cart"></i>商城当月收款</span>
                <h3 class="color-down"><i class="fa fa-rmb"></i>{{'&nbsp;'+##mallNowmonth}}</h3>
                <span class="diff"><i class="fa fa-caret-right"></i>&nbsp;&nbsp;当月收款数据统计汇总</span>
            </li>
            <li class="col-xs-12 col-lg-4">
                <span class="title"><i class="fa fa-clock-o"></i>商城总收款</span>
                <h3 class="color-down"><i class="fa fa-rmb"></i>{{'&nbsp;'+##mallNowcount}}</h3>
                <span class="diff"><i class="fa fa-caret-right"></i>&nbsp;&nbsp;统计到目前为止总收款金额</span>
            </li>
        </ul>
    </div>
    <!--微信收款统计-->
    <!--注：ms-controller的id只能出现一次所以用div包裹-->
    <div ms-controller="listInfo">
    <div class="row">
        <div class="col-md-12 col-lg-7">
            <div class=" panel-widget widget chart-with-stats clearfix" style="height:450px;">

                <div class="col-sm-12" style="height:450px;">
                    <h4 class="title">当月微信支付收款统计<small>最近更新: 1 小时以前</small></h4>
                    <div class="top-label"><h2>{{##payNowday}}</h2><h4>今日总计</h4></div>
                    <div class="bigchart" id="payChart"></div>
                </div>
                <div class="right" style="height:450px;">
                    <h4 class="title">概要信息</h4>
                    <!-- start stats -->
                    <ul class="widget-inline-list clearfix">
                        <li class="col-12"><span>962</span>门店总数<i class="chart sparkline-green"></i></li>
                        <li class="col-12"><span>367</span>Codecanyon<i class="chart sparkline-blue"></i></li>
                        <li class="col-12"><span>92</span>Photodune<i class="chart sparkline-red"></i></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-12 col-lg-5">
            <div class="panel panel-widget" style="height:450px;">
                <div class="panel-title">
                    门店总收款排行前<span ms-if="@payRnking.length < 7">{{@payRnking.length}}</span><span ms-if="@payRnking.length >=7">7</span>名&nbsp;<span class="label label-danger">共{{@payRnking.length}}家</span>
                    <ul class="panel-tools">
                        <li><a class="icon"><i class="fa fa-refresh"></i></a></li>
                    </ul>
                </div>
                <div class="panel-body table-responsive">

                    <table class="table table-dic table-hover ">
                        <tbody>
                        <tr ms-for="(index,pay) in @payRnking" ms-if="index<=6">
                            <td><i class="fa fa-bullhorn"></i><strong>No.{{index+1}}</strong></td>
                            <td>{{pay.name}}</td>
                            <td class="text-r"><i class="fa fa-rmb"></i>{{'&nbsp;'+pay.money}}</td>
                        </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
    <!--商城收款统计-->
    <div class="row">
        <div class="col-md-12 col-lg-7">
            <div class=" panel-widget widget chart-with-stats clearfix" style="height:450px;">

                <div class="col-sm-12" style="height:450px;">
                    <h4 class="title">当月商城收款统计<small>最近更新: 1 小时以前</small></h4>
                    <div class="top-label"><h2>{{##mallNowday}}</h2><h4>今日总计</h4></div>
                    <div class="bigchart" id="mallChart"></div>
                </div>
                <div class="right" style="height:450px;">
                    <h4 class="title">概要信息</h4>
                    <!-- start stats -->
                    <ul class="widget-inline-list clearfix">
                        <li class="col-12"><span>962</span>Themeforest<i class="chart sparkline-green"></i></li>
                        <li class="col-12"><span>367</span>Codecanyon<i class="chart sparkline-blue"></i></li>
                        <li class="col-12"><span>92</span>Photodune<i class="chart sparkline-red"></i></li>
                    </ul>
                </div>


            </div>
        </div>
        <div class="col-md-12 col-lg-5">
            <div class="panel panel-widget" style="height:450px;">
                <div class="panel-title">
                    门店今日收款排行前<span ms-if="@mallRanking.length < 7">{{@mallRanking.length}}</span><span ms-if="@mallRanking.length >=7">7</span>名&nbsp;<span class="label label-danger">共{{@mallRanking.length}}家</span>
                    <ul class="panel-tools">
                        <li><a class="icon"><i class="fa fa-refresh"></i></a></li>
                    </ul>
                </div>
                <div class="panel-body table-responsive">

                    <table class="table table-dic table-hover ">
                        <tbody>
                        <tr ms-for="(index,mall) in @mallRanking" ms-if="index<=6">
                            <td><i class="fa fa-bullhorn"></i><strong>No.{{index+1}}</strong></td>
                            <td>{{mall.name}}</td>
                            <td class="text-r"><i class="fa fa-rmb"></i>{{'&nbsp;'+mall.money}}</td>
                        </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
    </div>
</div>
<script>
    requirejs(['main'], function( main ) {
        //define返回一个对象在当前页面调用该方法执行操作
        var url ={
            mallReport:"json/MallReport.json",//获取商城统计图
            reportNow:"json/ReportNow.json",//获取支付统计图
            reportStoreAll:"json/ReportStoreAll.json"//获取所有数据
        };
        main.init_start(url);
    });
</script>